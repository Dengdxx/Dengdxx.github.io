<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>博客 - Deng DX</title>
    <meta name="description" content="Deng DX 的博客，分享机器人与 AI 技术心得" />
    <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNiIgZmlsbD0iI0Q1RDVENSIvPjwvc3ZnPg==" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/blog.css" />
</head>
<body data-theme="dark">
    <a class="skip-link" href="#main-content">跳到主要内容</a>

    <!-- 复用主页的导航结构 -->
    <nav class="main-nav" role="navigation" aria-label="主导航">
        <div class="nav-container">
            <a href="index.html" class="nav-brand" aria-label="DX机器人开发者主页">
                <span class="brand-logo" aria-hidden="true">DX</span>
                <span class="brand-name">Deng DX</span>
            </a>
            <div class="nav-links">
                <a href="index.html#projects" class="nav-link">项目</a>
                <a href="index.html#skills" class="nav-link">技能</a>
                <a href="index.html#contact" class="nav-link">联系</a>
                <a href="blog.html" class="nav-link active">博客</a>
                <button class="theme-toggle nav-theme-toggle" id="themeToggle" aria-label="切换深色/浅色主题">🌚</button>
            </div>
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="打开导航菜单" aria-expanded="false">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </button>
        </div>
    </nav>

    <main id="main-content" class="container blog-container">
        <header class="blog-header">
            <h1>博客</h1>
            <p class="tagline">记录机器人、人工智能与开发心得</p>

            <div class="blog-controls">
                <input id="searchInput" type="search" placeholder="搜索标题、标签或内容..." aria-label="搜索文章" />
                <div id="tagFilters" class="tag-filters" aria-hidden="false"></div>
            </div>
            
            <!-- Admin mode toggle and controls -->
            <div class="admin-controls" style="margin-top: 1rem;">
                <button id="adminToggle" class="cta-button blog-button" style="background-color: #2c3e50;display:none;">管理模式</button>
            </div>
            
            <!-- 添加创建文章按钮 -->
            <button id="createPostBtn" class="cta-button admin-button admin-create">创建新文章</button>
        </header>

        <!-- 创建文章表单 -->
        <section id="createPostForm" class="glass-card" style="display: none; margin-bottom: 2rem;">
            <h2>创建新文章</h2>
            <form id="postForm">
                <div class="form-group">
                    <label for="postTitle">标题</label>
                    <input type="text" id="postTitle" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="postTags">标签（用逗号分隔）</label>
                    <input type="text" id="postTags" class="form-control" placeholder="例如: 机器人, AI, 教程">
                </div>
                
                <div class="form-group">
                    <label for="postExcerpt">摘要</label>
                    <textarea id="postExcerpt" class="form-control" rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label>内容 (单元格结构)</label>
                    <div id="cellsContainer">
                        <!-- 单元格将在这里动态添加 -->
                    </div>
                    <div class="cell-actions">
                        <button type="button" id="addTextCell" class="cta-button blog-button">添加文本单元格</button>
                        <button type="button" id="addCodeCell" class="cta-button blog-button">添加代码单元格</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="postReadTime">阅读时间</label>
                    <input type="text" id="postReadTime" class="form-control" placeholder="例如: 约 3 分钟">
                </div>
                
                <div class="form-buttons">
                    <button type="submit" class="cta-button">发布文章</button>
                    <button type="button" id="cancelPostBtn" class="cta-button blog-button">取消</button>
                </div>
            </form>
        </section>

        <section id="postsList" class="posts-grid" aria-live="polite">
            <!-- JS 会在这里渲染文章卡片 -->
        </section>

        <nav id="pagination" class="pagination" aria-label="文章分页">
            <!-- JS 渲染分页 -->
        </nav>
    </main>

    <footer>
        <p>&copy; 2025 DX. 保留所有权利. | <a href="https://github.com/Dengdxx/Dengdxx.github.io/blob/main/LICENSE" target="_blank" rel="noopener">MIT License</a></p>
    </footer>

    <script src="assets/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- MathJax for mathematical formula rendering -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']]
        },
        svg: {
          fontCache: 'global'
        }
      };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="assets/js/blog.js"></script>
</body>
</html>
